"use strict";var express=require("express"),_require=require("@prisma/client"),PrismaClient=_require.PrismaClient,app=express(),prisma=new PrismaClient;app.use(express.json()),app.post("/user",function(r,s){var t,a,n,u,i,o;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.body,a=t.username,n=t.password,u=t.Mobile,i=t.cardId,/^\d{1,10}$/.test(u)){e.next=3;break}return e.abrupt("return",s.status(400).json({error:"Mobile ต้องเป็นตัวเลขไม่เกิน 10 หลัก"}));case 3:if(/^\d{1,13}$/.test(i)){e.next=5;break}return e.abrupt("return",s.status(400).json({error:"cardId ต้องเป็นตัวเลขไม่เกิน 13 หลัก"}));case 5:return e.prev=5,e.next=8,regeneratorRuntime.awrap(prisma.user.create({data:{username:a,password:n,Mobile:u,cardId:BigInt(i)}}));case 8:o=e.sent,s.status(201).json(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),s.status(500).json({error:"เกิดข้อผิดพลาด"});case 15:case"end":return e.stop()}},null,null,[[5,12]])}),app.listen(5555,function(){console.log("✅ Server running at http://localhost:5555")});
//# sourceMappingURL=app.min.js.map
